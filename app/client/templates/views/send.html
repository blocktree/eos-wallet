<template name="views_send">

    <!-- we use a form, which posts into the "dapp-form-helper-iframe" iframe, so that the browser stores input fields for native autocomplete -->
    <form class="account-send-form" action="about:blank" target="dapp-form-helper-iframe" autocomplete="on">

        <h1>{{{i18n 'wallet.send.title'}}}</h1>

        <!-- from/to -->
        <div class="row clear from-to">
            <div class="col col-6 mobile-full from">
                <h3>{{i18n 'wallet.send.from'}}</h3>

                {{> dapp_selectAccount accounts=(selectAccounts deployContract) showAccountTypes=true class='send-from'}}

            </div>

            <div class="col col-6 mobile-full">
                {{#unless deployContract}}
                    <h3>{{i18n 'wallet.send.to'}}</h3>

                    {{> dapp_addressInput placeholder="" name="to" autofocus=true class="to"}}
                {{/unless}}
            </div>

            <div class="dapp-clear-fix"></div>
        </div>

        <!-- amount -->
        <div class="row clear">
            <div class="col col-6 mobile-full amount">
                <h3>{{i18n 'wallet.send.amount'}}</h3>
                {{#if TemplateVar.get "sendAll"}}
                    <input type="text" name="amount" class="dapp-large" value="{{clearAmountFromChars (dapp_formatBalance sendAllAmount '0,0.[000000000000000000]')}}" disabled>
                {{else}}
                    <input type="text" min="0" step="any" name="amount" placeholder="0.0" class="dapp-large" pattern="[0-9\.,]*">
                {{/if}}

                <br>
                <label>
                    <input type="checkbox" class="send-all">
                    {{i18n 'wallet.send.sendAll'}}
                </label>

                <p class="send-info">
                    {{{i18n 'wallet.send.texts.sendAmount' amount=(TemplateVar.get "amount") }}}
                </p>

            </div>

            <div class="col col-6 mobile-full">
                <br><br>

                <div class="token-ether">
                    <span class="ether-symbol">Îž</span>
                    <span class="token-name">EOS</span>
                    <span class="balance">
                        {{dapp_formatBalance selectedAccount.balance "0,0.00 EOS"}}
                    </span>
                </div>
            </div>


            <div class="dapp-clear-fix"></div>
        </div>

        <div class="row clear compile-contract">
            <div class="col col-8 mobile-full">
                <h3>{{i18n 'wallet.send.memo'}}</h3>
                {{> dapp_dataTextarea cols="20" rows="8" value=(TemplateVar.get "txData")}}
            </div>
        </div>

        <!-- Total -->
        <div class="row clear total">
            <div class="col col-12 mobile-full">
                <h3>{{i18n "commonWords.total"}}</h3>
                <span class="amount">{{tokenTotal}}</span> EOS
            </div>

            <div class="dapp-clear-fix"></div>
        </div>

        <hr>

        <!-- a button type="submit" will send the form -->

        <button type="submit" class="dapp-block-button">
            {{#if TemplateVar.get "sending"}}
                {{i18n 'buttons.sending'}}
            {{else}}
                {{#if deployContract}}
                    {{i18n 'wallet.app.buttons.deploy'}}
                {{else}}
                    {{i18n 'buttons.send'}}
                {{/if}}
            {{/if}}
        </button>

    </form>

</template>
